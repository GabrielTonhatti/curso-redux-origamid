<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redux</title>
    <script src="./immer.umd.production.min.js"></script>
    <script src="./redux.min.js"></script>
</head>
<div>
    <p id="nome"></p>
    <p id="email"></p>
    <p id="tempoRestante"></p>
    <p id="totalAulasCompletadas"></p>
</div>

<body>
    <script type="module">
        import store from './store/configureStore.js';
        import { completarAula, completarCurso, resetarCurso } from './store/aula.js'
        import { incrementarTempo, reduzirTempo, modificarEmail, } from './store/aluno.js'

        store.subscribe(() => {
            const state = store.getState();

            const nome = document.getElementById('nome');
            const email = document.getElementById('email');
            const tempoRestante = document.getElementById('tempoRestante');
            const totalAulasCompletadas = document.getElementById('totalAulasCompletadas');

            nome.innerText = `Nome: ${state.aluno.nome}`;
            email.innerText = `Email: ${state.aluno.email}`;
            tempoRestante.innerText = `Tempo Restante: ${state.aluno.diasRestantes}`;
            totalAulasCompletadas.innerText = `otal de aulas completas: ${state.aula.filter(aula => aula.completa).length}`;
        });

        store.dispatch(incrementarTempo());
        store.dispatch(reduzirTempo());
        store.dispatch(modificarEmail('gabrieltonhatti@orgiamid.com'));
        store.dispatch(completarAula(2));
        store.dispatch(completarCurso());
        store.dispatch(resetarCurso());

    </script>
</body>

</html>